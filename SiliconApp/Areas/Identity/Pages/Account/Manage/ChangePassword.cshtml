@page "{handler?}"
@model ChangePasswordModel
@{
    ViewData["Title"] = "Security";
    ViewData["ActivePage"] = ManageNavPages.ChangePassword;
}
 
<h3>@ViewData["Title"]</h3>
<partial name="_StatusMessage" for="StatusMessage" />
<div class="row">
    <div class="col-md-12 mb-3">
        <h6 class="mt-2 mb-4 password-title">Password</h6>
        <form id="change-password-form" method="post" asp-page-handler="ChangePassword">
            <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
            <div class="form-floating mb-3">
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                <label asp-for="Input.OldPassword" class="form-label"></label>
                <input asp-for="Input.OldPassword" class="form-control" autocomplete="current-password" aria-required="true" placeholder="Please enter your old password." />
                <span asp-validation-for="Input.OldPassword" class="text-danger"></span>
            </div>
            </div>
            </div>
            <div class="form-floating mb-3">
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <label asp-for="Input.NewPassword" class="form-label"></label>
                        <input asp-for="Input.NewPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="Please enter your new password." />
                        <span asp-validation-for="Input.NewPassword" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 col-sm-12">
                        <label asp-for="Input.ConfirmPassword" class="form-label"></label>
                        <input asp-for="Input.ConfirmPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="Please confirm your new password." />
                        <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>
          
           
                
            </div>
            <div class="row mt-4">
                <div class="col-md-2 col-sm-12">
                    <a class="btn btn-sm-1 btn-1" href="/Identity/Account/Manage">Cancel</a>
                </div>
                <div class="col-md-4 col-sm-12">
                    <button type="submit" class="w-200 btn  btn-primary-1 btn-sm-1">Update password</button>

                </div>
            </div>
            
        </form>
    </div>
</div>
 
<hr class=""/>
<div class="row">
    <div class="col-md-12 mb-3">
        <h6 class="mt-2 mb-4 password-title">Delete Account</h6>
        <form id="delete-account-form" method="post" asp-page-handler="DeleteAccount">
            <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
            <input type="hidden" asp-for="Input.Id" name="UserId" class="form-control" aria-required="true" />
            <p class="text-sm text-muted">
                When you delete your account, your public profile will be deactivated immediately. If you change your mind before
                the 14 days are up, sign in with your email and password, and we’ll send you a link to reactivate your account
            </p>
            <div class="checkbox mb-3">
                <label asp-for="Input.DeleteAccount" class="form-label text-sm text-muted">
                    <input class="form-check-input" asp-for="Input.DeleteAccount" />
                    @Html.DisplayNameFor(m => m.Input.DeleteAccount)
                </label>
            </div>
            <div class="row mt-4">
                <div class="col-md-2 col-sm-12">
                    <a id="delete_account_btn" role="button" onclick="deleteMyAccount()" class="btn btn-sm-1 btn-danger-1 disabled-link">Delete</a>
                </div>
                
            </div>
        </form>
    </div>
</div>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
